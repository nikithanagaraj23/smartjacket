<!doctype html>
<html>
	<head>
		<title>Line Chart</title>
		<script src="Chart/Chart.js"></script>
	</head>
	<body >
	  <h2>   <a style="font-family:cursive;color:#00A77D;text-decoration:none;" href="../Main.html">smartJacket</a></h2>
	<h2 style="font-family:cursive;color:#00A77D; margin-top:20px;margin-left:40%;">Your Variations</h2>
	
	<h2 style="margin-left:20%;font-family:cursive;color:#00A77D;"> Stress level variations &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Your Calendar of Events</h2>
		
	<div style="width:40%;margin-top:3%;margin-left:5%;float:left;">	
			<div>	
				<canvas id="canvas1" height="450" width="600"></canvas>
			</div>
			<h4 style="font-family:cursive;color:#00A77D; margin-top:20px;margin-left:40%;">10:Very Stressed</h2>
	
			<h4 style="font-family:cursive;color:#00A77D; margin-top:20px;margin-left:40%;">7:Stressed</h2>
	
			<h4 style="font-family:cursive;color:#00A77D; margin-top:20px;margin-left:40%;">5:Mildly Stressed</h2>
	
			<h4 style="font-family:cursive;color:#00A77D; margin-top:20px;margin-left:40%;">3:Slightly Stressed</h2>
			<h4 style="font-family:cursive;color:#00A77D; margin-top:20px;margin-left:40%;">1:Calm</h2>
	
		</div>
	
	
		<div style="width:40%;margin-top:3%;float:right;margin-right:10%;">	
			<div>	
				<canvas id="canvas" height="450" width="600"></canvas>
			</div>
		</div>
		
		
	<br><br>

	<script>
		window.onload = function(){
		//alert("hello");
		xhr = new XMLHttpRequest();
		
		xhr.onreadystatechange = updateFields;
		xhr.open("GET","server_chart.php",true);
		xhr.send();
		
		}

function updateFields()
{
	if(xhr.readyState==4&&xhr.status==200)
	{
	//alert(xhr.responseText);
	
	data1 = JSON.parse(xhr.responseText);
	
	
var ctx = document.getElementById("canvas").getContext("2d");
var ctx1 = document.getElementById("canvas1").getContext("2d");
var lineChartData = {
			//labels : ["2015-03-12","2015-03-14","2015-03-21"],
			labels : data1[0],
			datasets : [
				{
					label: "My First dataset",
					fillColor : "rgba(220,220,220,25)",
					strokeColor : "rgba(220,220,220,25)",
					pointColor : "rgba(220,220,220,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(220,220,220,1)",
					data : data1[1]
				
				}			]

		}
	
var lineChartData1 = {
			//labels : ["2015-03-12","2015-03-14","2015-03-21"],
			labels : data1[2],
			datasets : [
				{
					label: "My First dataset",
					fillColor : "rgba(220,220,220,25)",
					strokeColor : "rgba(220,220,220,25)",
					pointColor : "rgba(220,220,220,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(220,220,220,1)",
					data : data1[4]
				
				}			]

		}
	


	window.myLine = new Chart(ctx).Line(lineChartData, {
	responsive: true
		});
	
	window.myLine = new Chart(ctx1).Line(lineChartData1, {
	responsive: true
		});
			

}
}

	</script>
	</body>
</html>
